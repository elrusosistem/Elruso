[
  {
    "id": "REQ-001",
    "service": "supabase",
    "type": "credentials",
    "scopes": [
      "SUPABASE_URL",
      "SUPABASE_ANON_KEY",
      "SUPABASE_SERVICE_ROLE_KEY"
    ],
    "purpose": "Conexión a base de datos PostgreSQL para API y Worker",
    "where_to_set": "apps/api/.env, apps/worker/.env, Render env vars, GitHub Secrets",
    "validation_cmd": "curl -s $SUPABASE_URL/rest/v1/ -H 'apikey: $SUPABASE_ANON_KEY' | head -1",
    "status": "PROVIDED",
    "provided_at": "2026-02-09T00:34:30.695Z"
  },
  {
    "id": "REQ-002",
    "service": "render",
    "type": "api_token",
    "scopes": [
      "RENDER_API_TOKEN"
    ],
    "purpose": "Deploy automático de API y Worker a Render desde CI y scripts",
    "where_to_set": "GitHub Secrets (RENDER_API_TOKEN), .env local para scripts",
    "validation_cmd": "curl -s -H 'Authorization: Bearer $RENDER_API_TOKEN' https://api.render.com/v1/owners | jq '.length'",
    "status": "PROVIDED",
    "provided_at": "2026-02-09T01:37:29.304Z"
  },
  {
    "id": "REQ-003",
    "service": "vercel",
    "type": "api_token",
    "scopes": [
      "VERCEL_TOKEN"
    ],
    "purpose": "Deploy automático del panel web a Vercel desde CI y scripts",
    "where_to_set": "GitHub Secrets (VERCEL_TOKEN), .env local para scripts",
    "validation_cmd": "curl -s -H 'Authorization: Bearer $VERCEL_TOKEN' https://api.vercel.com/v2/user | jq '.user.username'",
    "status": "PROVIDED",
    "provided_at": "2026-02-09T01:58:01.122Z"
  },
  {
    "id": "REQ-004",
    "service": "github",
    "type": "repository",
    "scopes": [
      "REPO_URL"
    ],
    "purpose": "Repositorio remoto para push, PRs y CI/CD",
    "where_to_set": "git remote add origin <url>",
    "validation_cmd": "git remote -v",
    "status": "PROVIDED",
    "provided_at": "2026-02-08T23:00:00Z"
  },
  {
    "id": "REQ-005",
    "service": "supabase",
    "type": "connection_string",
    "scopes": [
      "DATABASE_URL"
    ],
    "purpose": "Connection string PostgreSQL directa para migraciones con psql. Requiere psql instalado (REQ-006)",
    "where_to_set": ".env (root y apps), Render env vars, GitHub Secrets",
    "validation_cmd": "psql $DATABASE_URL -c 'SELECT 1;'",
    "status": "PROVIDED",
    "provided_at": "2026-02-09T00:47:23.152Z"
  },
  {
    "id": "REQ-006",
    "service": "local",
    "type": "tool",
    "scopes": [
      "psql"
    ],
    "purpose": "Cliente PostgreSQL para ejecutar migraciones y seed. Instalar: brew install libpq && brew link --force libpq",
    "where_to_set": "PATH (brew instala en /opt/homebrew/opt/libpq/bin/psql)",
    "validation_cmd": "psql --version",
    "status": "PROVIDED",
    "provided_at": "2026-02-09T00:10:00Z"
  },
  {
    "id": "REQ-007",
    "service": "render",
    "type": "credentials",
    "scopes": [
      "RENDER_API_SERVICE_ID"
    ],
    "purpose": "Service ID de la API en Render para deploy staging. Obtener de Render Dashboard > Service > Settings > ID",
    "where_to_set": ".env local, GitHub Secrets",
    "validation_cmd": "curl -s -H 'Authorization: Bearer $RENDER_API_TOKEN' https://api.render.com/v1/services/$RENDER_API_SERVICE_ID | jq '.id'",
    "status": "PROVIDED",
    "provided_at": "2026-02-09T01:38:06.318Z"
  },
  {
    "id": "REQ-008",
    "service": "vercel",
    "type": "credentials",
    "scopes": [
      "VERCEL_PROJECT_ID_WEB"
    ],
    "purpose": "Project ID del panel web en Vercel para deploy. Obtener de Vercel Dashboard > Project > Settings > General > Project ID",
    "where_to_set": ".env local, GitHub Secrets",
    "validation_cmd": "curl -s -H 'Authorization: Bearer $VERCEL_TOKEN' https://api.vercel.com/v9/projects/$VERCEL_PROJECT_ID_WEB | jq '.id'",
    "status": "PROVIDED",
    "provided_at": "2026-02-09T01:58:30.091Z"
  },
  {
    "id": "REQ-009",
    "service": "openai",
    "type": "api_token",
    "scopes": [
      "OPENAI_API_KEY"
    ],
    "purpose": "API key de OpenAI para que El Ruso llame a GPT programaticamente (compose prompt -> GPT API -> directivas)",
    "where_to_set": "Vault via panel (#/setup), luego .env local y Render env vars",
    "validation_cmd": "curl -s https://api.openai.com/v1/models -H 'Authorization: Bearer $OPENAI_API_KEY' | jq '.data[0].id'",
    "status": "WAITING"
  }
]
